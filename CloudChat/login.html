<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

  <style>
    #grad {
      width: 300px;
      padding: 25px;
      border: 2px solid grey;
      margin: 25px;

      border: -webkit-linear-gradient(square, red , blue); /* For Safari 5.1 to 6.0 */
      border: -o-linear-gradient(square, red, blue); /* For Opera 11.1 to 12.0 */
      border: -moz-linear-gradient(square, red, blue); /* For Firefox 3.6 to 15 */
      border: linear-gradient(square, red , blue); /* Standard syntax */
    }
    .error {
      display: none;
      color: red;
    }
  </style>
  <title>Login / Register</title>
</head>
<body>
    <script src="http://localhost:3000/socket.io/socket.io.js"></script>
    <script>
      var username, password, roomId;
      var session;
      var socket = io("http://localhost:3000");

      $(document).ready(function() {
        $("#registerButton").click(function() {
          if($("#roomInput").is(":visible")) {
            $("#formTitle").text('User Register');
            $("#roomInput").hide();
          } else {
            var username = $("#usernameInput").val();
            var password = $("#passwordInput").val();

            if(username === "" || password === "") {
              $("#error").show();
              return;
            }

            socket.emit('register', {
              username: username,
              password: password
            });
          }
        });

        $("#loginButton").click(function() {
          if($("#roomInput").is(":visible")) {
            var username = $("#usernameInput").val();
            var password = $("#passwordInput").val();
            var roomId = $("#roomInput").val();

            if(username === "" || password === "" || roomId === "") {
              $("#error").show();
              return;
            }

            socket.emit('login', {
              username: username,
              password: password,
              roomId: roomId
            });
          } else {
            $("#formTitle").text('User Login');
            $("#roomInput").show();
          }
        });
      });
    </script>
  <div id="grad">
    <div id="login">
      <p id="formTitle">User Login</p>
      <p id="error" class="error">Please fill in all fields.</p>
      <input type="text" class="form-control" id="usernameInput" placeholder="Username"><br>
      <input type="password" class="form-control" id="passwordInput" placeholder="Password"><br>
      <input type="text" class="form-control" id="roomInput" placeholder="Room"><br>
      <button id="loginButton" type="button" class="btn btn-primary btn-sm">Login</button>
      <button id="registerButton" type="button" class="btn btn-default btn-sm">Register</button>
    </div>
  </div>
</body>
</html>
